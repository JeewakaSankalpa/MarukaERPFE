
> mruak-fe@0.1.0 test
> react-scripts test src/components/Login.test.js --watchAll=false

  console.warn
    âš ï¸ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.

    [0m [90m 16 |[39m
     [90m 17 |[39m [36mconst[39m renderLogin [33m=[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 18 |[39m     [36mreturn[39m render(
     [90m    |[39m                  [31m[1m^[22m[39m
     [90m 19 |[39m         [33m<[39m[33mAuthContext[39m[33m.[39m[33mProvider[39m value[33m=[39m{{ login[33m:[39m mockLogin }}[33m>[39m
     [90m 20 |[39m             [33m<[39m[33mBrowserRouter[39m[33m>[39m
     [90m 21 |[39m                 [33m<[39m[33mLogin[39m [33m/[39m[33m>[39m[0m

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at Object.logV6DeprecationWarnings [as UNSAFE_logV6DeprecationWarnings] (node_modules/react-router/lib/deprecations.ts:26:5)
      at node_modules/react-router-dom/index.tsx:816:25
      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:22509:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:543:16)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:10758:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:10880:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:12653:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12627:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:12755:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12627:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:12657:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15460:13)
      at node_modules/react-dom/cjs/react-dom-client.development.js:15324:11
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderLogin (src/components/Login.test.js:18:18)
      at Object.<anonymous> (src/components/Login.test.js:33:9)
      at TestScheduler.scheduleTests (node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (node_modules/@jest/core/build/cli/index.js:173:3)

  console.warn
    âš ï¸ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

    [0m [90m 16 |[39m
     [90m 17 |[39m [36mconst[39m renderLogin [33m=[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 18 |[39m     [36mreturn[39m render(
     [90m    |[39m                  [31m[1m^[22m[39m
     [90m 19 |[39m         [33m<[39m[33mAuthContext[39m[33m.[39m[33mProvider[39m value[33m=[39m{{ login[33m:[39m mockLogin }}[33m>[39m
     [90m 20 |[39m             [33m<[39m[33mBrowserRouter[39m[33m>[39m
     [90m 21 |[39m                 [33m<[39m[33mLogin[39m [33m/[39m[33m>[39m[0m

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at Object.logV6DeprecationWarnings [as UNSAFE_logV6DeprecationWarnings] (node_modules/react-router/lib/deprecations.ts:37:5)
      at node_modules/react-router-dom/index.tsx:816:25
      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:22509:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:543:16)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:10758:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:10880:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:12653:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12627:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:12755:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12627:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:12657:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15460:13)
      at node_modules/react-dom/cjs/react-dom-client.development.js:15324:11
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderLogin (src/components/Login.test.js:18:18)
      at Object.<anonymous> (src/components/Login.test.js:33:9)
      at TestScheduler.scheduleTests (node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (node_modules/@jest/core/build/cli/index.js:173:3)

  console.error
    Error: Invalid credentials
        at Object.<anonymous> (D:\Maruka\V1\MarukaERPFE\src\components\Login.test.js:58:37)
        at Promise.then.completed (D:\Maruka\V1\MarukaERPFE\node_modules\jest-circus\build\utils.js:391:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\Maruka\V1\MarukaERPFE\node_modules\jest-circus\build\utils.js:316:10)
        at _callCircusTest (D:\Maruka\V1\MarukaERPFE\node_modules\jest-circus\build\run.js:218:40)
        at _runTest (D:\Maruka\V1\MarukaERPFE\node_modules\jest-circus\build\run.js:155:3)
        at _runTestsForDescribeBlock (D:\Maruka\V1\MarukaERPFE\node_modules\jest-circus\build\run.js:66:9)
        at _runTestsForDescribeBlock (D:\Maruka\V1\MarukaERPFE\node_modules\jest-circus\build\run.js:60:9)
        at run (D:\Maruka\V1\MarukaERPFE\node_modules\jest-circus\build\run.js:25:3)
        at runAndTransformResultsToJestFormat (D:\Maruka\V1\MarukaERPFE\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:170:21)
        at jestAdapter (D:\Maruka\V1\MarukaERPFE\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:82:19)
        at runTestInternal (D:\Maruka\V1\MarukaERPFE\node_modules\jest-runner\build\runTest.js:389:16)
        at runTest (D:\Maruka\V1\MarukaERPFE\node_modules\jest-runner\build\runTest.js:475:34)
        at TestRunner.runTests (D:\Maruka\V1\MarukaERPFE\node_modules\jest-runner\build\index.js:101:12)
        at TestScheduler.scheduleTests (D:\Maruka\V1\MarukaERPFE\node_modules\@jest\core\build\TestScheduler.js:333:13)
        at runJest (D:\Maruka\V1\MarukaERPFE\node_modules\@jest\core\build\runJest.js:404:19)
        at _run10000 (D:\Maruka\V1\MarukaERPFE\node_modules\@jest\core\build\cli\index.js:320:7)
        at runCLI (D:\Maruka\V1\MarukaERPFE\node_modules\@jest\core\build\cli\index.js:173:3)
        at Object.run (D:\Maruka\V1\MarukaERPFE\node_modules\jest-cli\build\cli\index.js:155:37)

    [0m [90m 38 |[39m       }[33m,[39m [35m300[39m)[33m;[39m
     [90m 39 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 40 |[39m       console[33m.[39merror(err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 41 |[39m       setShake([36mtrue[39m)[33m;[39m
     [90m 42 |[39m       toast[33m.[39merror([32m"Invalid username or password"[39m[33m,[39m { autoClose[33m:[39m [35m1800[39m })[33m;[39m
     [90m 43 |[39m       [90m// Remove shake after animation ends[39m[0m

      at handleLogin (src/components/Login.js:40:15)

  console.error
    An update to Login inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 39 |[39m     } [36mcatch[39m (err) {
     [90m 40 |[39m       console[33m.[39merror(err)[33m;[39m
    [31m[1m>[22m[39m[90m 41 |[39m       setShake([36mtrue[39m)[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 42 |[39m       toast[33m.[39merror([32m"Invalid username or password"[39m[33m,[39m { autoClose[33m:[39m [35m1800[39m })[33m;[39m
     [90m 43 |[39m       [90m// Remove shake after animation ends[39m
     [90m 44 |[39m       setTimeout(() [33m=>[39m setShake([36mfalse[39m)[33m,[39m [35m500[39m)[33m;[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:15751:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:543:16)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:15750:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14311:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:7208:13)
      at setShake (node_modules/react-dom/cjs/react-dom-client.development.js:7161:7)
      at handleLogin (src/components/Login.js:41:7)

  console.error
    An update to bt inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 40 |[39m       console[33m.[39merror(err)[33m;[39m
     [90m 41 |[39m       setShake([36mtrue[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 42 |[39m       toast[33m.[39merror([32m"Invalid username or password"[39m[33m,[39m { autoClose[33m:[39m [35m1800[39m })[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 43 |[39m       [90m// Remove shake after animation ends[39m
     [90m 44 |[39m       setTimeout(() [33m=>[39m setShake([36mfalse[39m)[33m,[39m [35m500[39m)[33m;[39m
     [90m 45 |[39m     } [36mfinally[39m {[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:15751:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:543:16)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:15750:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14311:11)
      at forceStoreRerender (node_modules/react-dom/cjs/react-dom-client.development.js:6349:24)
      at cb (node_modules/react-dom/cjs/react-dom-client.development.js:6334:41)
      at node_modules/react-toastify/src/core/containerObserver.ts:36:29
          at Set.forEach (<anonymous>)
      at notify (node_modules/react-toastify/src/core/containerObserver.ts:36:15)
      at addActiveToast (node_modules/react-toastify/src/core/containerObserver.ts:80:5)
      at Object.buildToast (node_modules/react-toastify/src/core/containerObserver.ts:153:7)
      at node_modules/react-toastify/src/core/store.ts:84:7
          at Map.forEach (<anonymous>)
      at pushToast (node_modules/react-toastify/src/core/store.ts:83:14)
      at dispatchToast (node_modules/react-toastify/src/core/toast.ts:28:3)
      at Function.error (node_modules/react-toastify/src/core/toast.ts:45:5)
      at handleLogin (src/components/Login.js:42:13)

  console.error
    An update to Login inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 44 |[39m       setTimeout(() [33m=>[39m setShake([36mfalse[39m)[33m,[39m [35m500[39m)[33m;[39m
     [90m 45 |[39m     } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 46 |[39m       setLoading([36mfalse[39m)[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 47 |[39m     }
     [90m 48 |[39m   }[33m;[39m
     [90m 49 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:15751:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:543:16)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:15750:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14311:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:7208:13)
      at setLoading (node_modules/react-dom/cjs/react-dom-client.development.js:7161:7)
      at handleLogin (src/components/Login.js:46:7)

PASS src/components/Login.test.js (5.361 s)
  Login Component
    âˆš renders login form (721 ms)
    âˆš allows user to login with valid credentials (537 ms)
    âˆš shows error on invalid credentials (171 ms)

Test Suites: 1 passed, 1 total
Tests:       3 passed, 3 total
Snapshots:   0 total
Time:        8.53 s
Ran all test suites matching /src\\components\\Login.test.js/i.
